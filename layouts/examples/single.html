{{ define "main" }}
<h3>{{ .Title }}</h3>
{{ .Content }}
<br>
<hr>
<details>
    <summary><i>Try it out!</i></summary>
    <ol>
      <li>
      Install the toolchain:<br>
        <ul>
          <li>
            For macOS and Linux, run our script:
          </li>
            <pre>curl -sL https://raw.githubusercontent.com/lambdaclass/cairo-by-example/main/build/installer.sh | bash -s 2.2.0</pre>
          <li>
            For Windows and others, please see <a href="https://www.cairo-lang.org/docs/getting_started/prerequisits.html">the official guide</a>
          </li>
        </ul>
      </li>
      <li>
      Run the example:
      <ol>
        <li>Copy the example into a <b>{{ .File.BaseFileName}}.cairo</b> file and run with:</li>
        <pre>{{ printf "%s" .Params.run_command }} {{ .File.BaseFileName }}.cairo</pre>
      </ol>
      </li>
    </ol>
</details>
<br>

{{- $prev := .NextInSection }}
{{- $next := .PrevInSection }}
<div style="display: flex; justify-content: space-between;">
    {{- if $prev }}
    <a href="{{ $prev.Permalink }}">prev ({{ $prev.Title }})</a>
    {{- else }}
    <p>...</p>
    {{- end }}

    {{- if $next }}
    <a href="{{ $next.Permalink }}">next ({{ $next.Title }})</a>
    {{- else }}
    <p>...</p>
    {{- end }}
</div>

<script>
    const runButtons = document.querySelectorAll('.runButton');

    // Loop over each button
    runButtons.forEach(function (runButton) {
        // Add a click event listener to the run button
        runButton.addEventListener('click', function () {
            // Get the code from the div
            const divElement = runButton.parentElement;
            const resultBlock = divElement.querySelector('.resultBlock');
            resultBlock.style.display = 'block';
            resultBlock.innerHTML = "Running...";
            runButtonAction(divElement.innerHTML).then(function (result) {
                resultBlock.innerHTML = result;
            });
        });
    });
</script>

{{ end }}
